<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Stef Yaegel</title>
    <meta name="Stef Yaegel" content="Author" />
    <meta name="description" content="Website description" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="icon" type="image/png" href="pixelsteficon.png">
  </head>
  <body>

    <header>
        <h1 class="clickable" onClick = "openIndexPage()">Stef Yaegel</h1>
    </header>

    <div id="warningmessage">
      <div id="links">
        <a href="StefanieYaegelCV.pdf" id="typing" class="typing" style="animation-delay: 0s;" download="StefanieYaegel_Resume.pdf" target="_blank">Resume</a>
        <a href="http://www.linkedin.com/in/stefanieyaegel" id="typing" class="typing" style="animation-delay: 2.5s;" target="_blank">LinkedIn</a>
        <a href="mailto:stefanieyaegel@gmail.com" id="typing" class="typing" style="animation-delay: 5.0s;">Email</a>
      </div>
      <div id="mobile_version_container"> 
        <img id="mobileversion" src="mobilemessage.gif" alt="Mobile version is not yet available, but click the links above to explore." />
        <img id="pixelstefmv" src="pixelstef.png" alt="Pixel avatar of the website author." />
      </div>
    </div>

    <main>

      <div id="cursor">
        <img id="cursorimg" src="mycontroller.png" alt="Game controller pixel icon as cursor." />
     </div>

      <div class="titles_slideshow">
        <h2>Creative Technologist</h2>
        <h2>Computer Scientist</h2>
        <h2>Unity Developer</h2>
      </div>

      <div id="pixel_stef_container"> 
        <img id="helloworld" src="helloworldintro.gif" class="clickable" onClick = "openMainPage()" alt="Introduction gif that says hello world, welcome to my portfolio. Click here to take a tour." />
        <img id="pixelstef" src="pixelstef.png" class="clickable" onClick = "openMainPage()"  alt="Pixel icon of the website author." />
      </div>

    </main>
    <div id="skateboard_container"> 
      <img id="skateboard" src="skateboard.png" alt="Pixel skateboard icon." />
    </div>
    <div id="game_floor">
    </div>

    <footer>
    </footer>

    <script>
            
      function openIndexPage() {
        window.location.href = 'index.html';
      }
      
      function openMainPage() {
        window.location.href = 'main.html';
      }

      function move(event){

        cursor.style.left = event.x + "px";
        cursor.style.top = event.y + "px";

        const elementUnderCursor = document.elementFromPoint(event.x, event.y);

        if (elementUnderCursor && elementUnderCursor.classList.contains("clickable")) {
          document.getElementById("cursorimg").src= "mycontrollergrey.png";
        } else {
          document.getElementById("cursorimg").src= "mycontroller.png";
        }
      }

      window.onmousemove = move;

      document.querySelectorAll('.typing').forEach((element) => {
        element.addEventListener('animationend', (event) => {
          if (event.animationName === 'typing') {
            element.classList.add('finished');
          }
      });
    });

    function resetTyping() {
      document.querySelectorAll('.typing').forEach((element) => {
        element.classList.remove('finished'); 
        element.style.width = '0%';

      });
    }

    function checkVisibleArea() {
    const viewportWidth = window.innerWidth;  
    const scrollLeft = window.scrollX || document.documentElement.scrollLeft; 

    const visibleWidth = viewportWidth;

    if (visibleWidth < 900) {
      console.log("The visible area is too small.");
      showWarning();
    } else {
      console.log("Visible area is large enough.");
      hideWarning();
      resetTyping();
    }
  }

    function showWarning() {
      const warning = document.getElementById('warningmessage');
      const cursor = document.getElementById('cursorimg');
      cursor.style.display = 'none';
      warning.style.display = 'flex';
    }

    function hideWarning() {
      const warning = document.getElementById('warningmessage');
      const cursor = document.getElementById('cursorimg');
      cursor.style.display = 'flex';
      warning.style.display = 'none';
    }

    window.addEventListener('scroll', checkVisibleArea);
    window.addEventListener('resize', checkVisibleArea);

    checkVisibleArea();

    </script>

  </body>
</html>
